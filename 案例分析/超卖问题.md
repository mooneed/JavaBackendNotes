超卖问题：并发环境下，大量下单请求同时发给服务，导致售出商品数量超过库存的问题。  
可能导致么？
```SQL
update good_table set store=store-1 where id=xxxx and store >= 1;
```
该语句不会导致超卖问题，因为当前读会锁行。  
超卖问题
超卖问题只会在针对数据库的非原子操作时才会发生。快照读获取数据，随后在业务层计算更新值并更新。（因为是快照读，所以无论是否开启事务都有可能造成并发安全问题）  
那么问题转变为：是否存在比上文的并发安全语句性能更好的防止下单环节并发问题的方案？
有！  
使用Redis做库存预扣逻辑，并且可以实现库存个位数级别的锁粒度。（上文语句为行锁，会阻止其他并发用户下单）  
>Tips：库存个位数级别的锁粒度：举例说明，剩余10个库存，此时下1单，即锁住第10个库存，但是其他下单用户可以对第9，8，7单下单。
